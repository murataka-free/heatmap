<html>
<head>
    <title>Jmap jQuery Example</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="./static/js/jmap.js"></script>
    <script type = "text/javascript">
        // ここに「Javascript」に記載する内容
//         $(document).ready(function() {
//     $('#jmap').jmap({
//         height: '450px',
//         lineColor: '#bfbfbf',
//         lineWidth: 1,
//         showInfobox: true,
//         backgroundRadius: '0.3rem',
//         backgroundPadding: '1rem',
//         backgroundColor: '#ff000000',
//         prefectureClass: 'prefecture',
//         prefectureLineColor: '#ffffff',
//         prefectureLineWidth: 1,
//         prefectureLineHoverColor : '#fff',
//         fontSize: '0.8rem',
//         fontColor: '#000',
//         font: 'serif',
//         areas: [
//         {code : 1, name: "北海道", color: "#7f7eda", hoverColor: "#b3b2ee" },
//         {code : 2, name: "青森", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 3, name: "岩手", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 4, name: "宮城", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 5, name: "秋田", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 6, name: "山形", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 7, name: "福島", color: "#759ef4", hoverColor: "#98b9ff" },
//         {code : 8, name: "茨城", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 9, name: "栃木", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 10, name: "群馬", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 11, name: "埼玉", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 12, name: "千葉", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 13, name: "東京", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 14, name: "神奈川", color: "#7ecfea", hoverColor: "#b7e5f4" },
//         {code : 15, name: "新潟", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 16, name: "富山", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 17, name: "石川", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 18, name: "福井", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 19, name: "山梨", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 20, name: "長野", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 21, name: "岐阜", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 22, name: "静岡", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 23, name: "愛知", color: "#7cdc92", hoverColor: "#aceebb" },
//         {code : 24, name: "三重", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 25, name: "滋賀", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 26, name: "京都", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 27, name: "大阪", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 28, name: "兵庫", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 29, name: "奈良", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 30, name: "和歌山", color: "#ffe966", hoverColor: "#fff19c" },
//         {code : 31, name: "鳥取", color: "#ffcc66", hoverColor: "#ffe0a3" },
//         {code : 32, name: "島根", color: "#ffcc66", hoverColor: "#ffe0a3" },
//         {code : 33, name: "岡山", color: "#ffcc66", hoverColor: "#ffe0a3" },
//         {code : 34, name: "広島", color: "#ffcc66", hoverColor: "#ffe0a3" },
//         {code : 35, name: "山口", color: "#ffcc66", hoverColor: "#ffe0a3" },
//         {code : 36, name: "徳島", color: "#fb9466", hoverColor: "#ffbb9c" },
//         {code : 37, name: "香川", color: "#fb9466", hoverColor: "#ffbb9c" },
//         {code : 38, name: "愛媛", color: "#fb9466", hoverColor: "#ffbb9c" },
//         {code : 39, name: "高知", color: "#fb9466", hoverColor: "#ffbb9c" },
//         {code : 40, name: "福岡", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 41, name: "佐賀", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 42, name: "長崎", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 43, name: "熊本", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 44, name: "大分", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 45, name: "宮崎", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 46, name: "鹿児島", color: "#ff9999", hoverColor: "#ffbdbd" },
//         {code : 47, name: "沖縄", color: "#eb98ff", hoverColor: "#f5c9ff" }
//         ],
//         onLoad: function(e, data) {
//             $(this).html('<strong>' + data.name + '</strong>');
//         },
//         onSelect: function(e, data) {
//             $('#prefectureModal').find('#prefectureModalTitle')
//             .html(data.area8.name + " - " + data.area11.name + " - " + data.name + data.full)
//             .end().find('.modal-body')
//             .html(JSON.stringify(data, null, 4))
//             .end().modal('show');
//         },
//         onHover: function(e, data) {
//             console.log(data);
//         }
//     });
// });
$(document).ready(function() {
    // 送信先のURL
　　

    
//const json;

    //$.getJSON(url,json)
    //const url = 'http://localhost:3333/heatmap/api';
    const url = 'http://localhost:5000/throughput';
    var data;
    var obj ;

    let hokkaidou; 
    let aomori;
    let iwate;
    let miyagi;
    let akita ;
    let yamagata;
    let hukushima ;
    let ibaraki  ;
    let tochigi ;
    let gunma ;
    let saitama ;
    let chiba ;
    let tokyo ;
    let kanagawa ;
    let niigata ;
    let toyama ;
    let ishikawa;

    let hukui  ;
    let yamanashi;
    let nagano ;
    let gihu ;
    let shizuoka ;
    let aichi ;
    let mie ;
    let shiga ;
    let kyoto;
    let oosaka;
    let hyougo;
    let nara ;
    let wakayama ;
    let tottori ;
    let shimane ;
    let okayama ;
    let hiroshima;
    let yamaguchi ;
    
    let tokushima ;
    let kagawa ;
    let ehime ;
    let kouchi ;
    let hukuoka ;
    let saga ;
    let nagasaki ;
    let kumamoto;
    let ooita  ;
    let miyazaki ;
    let kagoshima ;
    let okinawa;

//     $.getJSON(url, (data) => {
//         //console.log(`id=${data.id}, name=${data.name}, email=${data.email}`);
//         console.log("1");
//         console.log(data);
//         //data = JSON.stringify(data);
//         console.log(data);
//         let obj = data;

//         //obj = JSON.parse(data);
//         console.log("2");
//         console.log(data);
//         console.log(obj);
        
//         //const json = '{"青森県":4000,"北海道":2000,"岩手県":100}';

//         // var high = obj.青森県;
//         // var mid = obj.北海道;
//         // var low = obj.岩手県;

//         var high = obj.mie;
//         var mid = obj.tokyo;
//         var low = obj.oita;
    
    var high = 4000;
    var mid = 2000;
    var low = 100;

     hokkaidou = mid; 
     aomori = low;
     iwate = low;
     miyagi = mid;
     akita = low;
     yamagata = low;
     hukushima = low;
     ibaraki = mid;
     tochigi = mid;
     gunma = low;
     saitama = high;
     chiba = mid;
     tokyo = high;
     kanagawa = high;
     niigata = low;
     toyama = mid;
     ishikawa = mid;

     hukui = low;
     yamanashi = low;
     nagano = low;
     gihu = low;
     shizuoka = mid;
     aichi = high;
     mie = mid;
     shiga = low;
     kyoto = mid;
     oosaka = high;
     hyougo = high;
     nara = low;
     wakayama = low;
     tottori = low;
     shimane = low;
     okayama = low;
     hiroshima= low;
     yamaguchi = low;
    
     tokushima = low;
     kagawa = low;
     ehime = low;
     kouchi = low;
     hukuoka = high;
     saga = low;
     nagasaki = low;
     kumamoto = mid;
     ooita = low;
     miyazaki = low;
     kagoshima = mid;
     okinawa= mid;

      
    // var json;
    // var requestURL = 'http://localhost:3333/heatmap/api';
    // var request = new XMLHttpRequest();
    // request.open('GET', requestURL);
    // request.responseType = 'json';
    // request.send();
    // alert(3);

//     $.getJSON("http://localhost:3333/heatmap/api", function(data){
//   alert(JSON.stringify(data));
// })
    

//     //const json = '{"青森県":4000,"北海道":2000,"岩手県":100}';

    
//     .done(function(){
//         alert(2);
//     let obj = JSON.parse('json');
//     });
//     alert(1);
    

//     request.onload = function() {
//         alert(2);
//   var json = request.response;
//   alert(4);
//   let obj = JSON.parse('json');
//   alert(5);
// }

    


    // let hokkaidou = obj.北海道; 
    // let aomori = obj.青森県;
    // let iwate = obj.岩手県;
    // let miyagi = obj.青森県;
    // let akita = obj.北海道;
    // let yamagata = obj.青森県;
    // let hukushima = obj.北海道;
    // let ibaraki = obj.青森県;
    // let tochigi = obj.北海道;
    // let gunma = obj.北海道;
    // let saitama = obj.青森県;
    // let chiba = obj.北海道;
    // let tokyo = obj.青森県;
    // let kanagawa = obj.北海道;
    // let niigata = obj.青森県;
    // let toyama = obj.北海道;
    // let ishikawa = obj.青森県;

    // let hukui = obj.北海道;
    // let yamanashi = obj.青森県;
    // let nagano = obj.北海道;
    // let gihu = obj.青森県;
    // let shizuoka = obj.北海道;
    // let aichi = obj.青森県;
    // let mie = obj.北海道;
    // let shiga = obj.青森県;
    // let kyoto = obj.北海道;
    // let oosaka = obj.青森県;
    // let hyougo = obj.北海道;
    // let nara = obj.青森県;
    // let wakayama = obj.北海道;
    // let tottori = obj.青森県;
    // let shimane = obj.北海道;
    // let okayama = obj.青森県;
    // let hiroshima= obj.北海道;
    // let yamaguchi = obj.青森県;
    
    // let tokushima = obj.北海道;
    // let kagawa = obj.青森県;
    // let ehime = obj.北海道;
    // let kouchi = obj.青森県;
    // let hukuoka = obj.北海道;
    // let saga = obj.青森県;
    // let nagasaki = obj.北海道;
    // let kumamoto = obj.青森県;
    // let ooita = obj.青森県;
    // let miyazaki = obj.北海道;
    // let kagoshima = obj.青森県;
    // let okinawa= obj.北海道;


        $('#jmap').jmap(
        {
            
    height: "450px",
    skew: '10',
    showHeatmap: true,
    heatmapLabelUnit: '人',
    // heatmapType: 'HRed',
    heatmapConditions: ["<1000", ">=1500",  ">=3500"], // 色がマッチする条件
    heatmapColors: ["#cccccc", "#FFA500", "#FF0000"], 　　　　　 // マッチした場合のヒートマップの色
    showHeatlabel: true,
    onSelect: function(e, data) {
        alert('平均スループットは：%d kbpsです。'.replace('%d', 6000 - (data.option.number * 1000).toLocaleString()));
    },
    
    areas: [
    {code: 1,name: "北海道",number: hokkaidou},
    {code: 2,name: "青森",number: aomori},
    {code: 3,name: "岩手",number: iwate},
    {code: 4,name: "宮城",number: miyagi},
    {code: 5,name: "秋田",number: akita},
    {code: 6,name: "山形",number: yamagata},
    {code: 7,name: "福島",number: hukushima},
    {code: 8,name: "茨城",number: ibaraki},
    {code: 9,name: "栃木",number: tochigi},
    {code: 10,name: "群馬",number: gunma},
    {code: 11,name: "埼玉",number: saitama},
    {code: 12,name: "千葉",number: chiba},
    {code: 13,name: "東京",number: tokyo},
    {code: 14,name: "神奈川",number: kanagawa},
    {code: 15,name: "新潟",number: niigata},
    {code: 16,name: "富山",number: toyama},
    {code: 17,name: "石川",number: ishikawa},
    {code: 18,name: "福井",number: hukui},
    {code: 19,name: "山梨",number: yamanashi},
    {code: 20,name: "長野",number: nagano},
    {code: 21,name: "岐阜",number: gihu},
    {code: 22,name: "静岡",number: shizuoka},
    {code: 23,name: "愛知",number: aichi},
    {code: 24,name: "三重",number: mie},
    {code: 25,name: "滋賀",number: shiga},
    {code: 26,name: "京都",number: kyoto},
    {code: 27,name: "大阪",number: oosaka},
    {code: 28,name: "兵庫",number: hyougo},
    {code: 29,name: "奈良",number: nara},
    {code: 30,name: "和歌山",number: wakayama},
    {code: 31,name: "鳥取",number: tottori},
    {code: 32,name: "島根",number: shimane},
    {code: 33,name: "岡山",number: okayama},
    {code: 34,name: "広島",number: hiroshima},
    {code: 35,name: "山口",number: yamaguchi},
    {code: 36,name: "徳島",number: tokushima},
    {code: 37,name: "香川",number: kagawa},
    {code: 38,name: "愛媛",number: ehime},
    {code: 39,name: "高知",number: kouchi},
    {code: 40,name: "福岡",number: hukuoka},
    {code: 41,name: "佐賀",number: saga},
    {code: 42,name: "長崎",number: nagasaki},
    {code: 43,name: "熊本",number: kumamoto},
    {code: 44,name: "大分",number: ooita},
    {code: 45,name: "宮崎",number: miyazaki},
    {code: 46,name: "鹿児島",number: kagoshima},
    {code: 47,name: "沖縄",number: okinawa}
    // {code: 3,name: "岩手",number: 1},
    // {code: 4,name: "宮城",number: 1},
    // {code: 5,name: "秋田",number: 1},
    // {code: 6,name: "山形",number: 1},
    // {code: 7,name: "福島",number: 1},
    // {code: 8,name: "茨城",number: 1},
    // {code: 9,name: "栃木",number: 1},
    // {code: 10,name: "群馬",number: 1},
    // {code: 11,name: "埼玉",number: 1},
    // {code: 12,name: "千葉",number: 1},
    // {code: 13,name: "東京",number: 1},
    // {code: 14,name: "神奈川",number: 1},
    // {code: 15,name: "新潟",number: 1},
    // {code: 16,name: "富山",number: 1},
    // {code: 17,name: "石川",number: 1},
    // {code: 18,name: "福井",number: 1},
    // {code: 19,name: "山梨",number: 1},
    // {code: 20,name: "長野",number: 1},
    // {code: 21,name: "岐阜",number: 1},
    // {code: 22,name: "静岡",number: 1},
    // {code: 23,name: "愛知",number: 1},
    // {code: 24,name: "三重",number: 11},
    // {code: 25,name: "滋賀",number: 1},
    // {code: 26,name: "京都",number: 1},
    // {code: 27,name: "大阪",number: 1},
    // {code: 28,name: "兵庫",number: 1},
    // {code: 29,name: "奈良",number: 1},
    // {code: 30,name: "和歌山",number: 1},
    // {code: 31,name: "鳥取",number: 1},
    // {code: 32,name: "島根",number: 1},
    // {code: 33,name: "岡山",number: 1},
    // {code: 34,name: "広島",number: 1},
    // {code: 35,name: "山口",number: 1},
    // {code: 36,name: "徳島",number: 1},
    // {code: 37,name: "香川",number: 1},
    // {code: 38,name: "愛媛",number: 1},
    // {code: 39,name: "高知",number: 1},
    // {code: 40,name: "福岡",number: 1},
    // {code: 41,name: "佐賀",number: 1},
    // {code: 42,name: "長崎",number: 1},
    // {code: 43,name: "熊本",number: 1},
    // {code: 44,name: "大分",number: 1},
    // {code: 45,name: "宮崎",number: 1},
    // {code: 46,name: "鹿児島",number: 1},
    // {code: 47,name: "沖縄",number: 1}
    ]
});
});
});
    </script>
</head>
<body>
    <!-- Jmap表示位置 -->
    <div id="jmap">
        <div class="jmap-infobox">
            <h5 class="h5">Traffic News</h5>
            <p>日本全国の通信状況を確認!!</p>
        </div>
    </div>

    <!-- <div id ="display">
        <div class ="display-date">
            <form name="js">
                年：<input type="text" name="txtb1" value=""><br>
                月：<input type="text" name="txtb2" value=""><br>
                日：<input type="text" name="txtb3" value=""><br>
                時：<input type="text" name="txtb4" value=""><br>
                <input type="button" value="表示" onclick="tbox1()"><br>
                </form>
                
                <script>
                
                //テキストボックスの文字を取得する
                function tbox1(){
                
                  var str1=document.js.txtb1.value;
                  var str2=document.js.txtb1.value;
                  var str3=document.js.txtb1.value;
                  var str4=document.js.txtb1.value;
                  alert(str1+"年"+str2+"月"+str3+"日"+str4+"時");

                  $('#jmap').jmap({
            
            height: "450px",
            skew: '10',
            showHeatmap: true,
            heatmapLabelUnit: '人',
            heatmapType: 'HRed',
            showHeatlabel: true,
            onSelect: function(e, data) {
                alert('人口は：%d 人です。'.replace('%d', (data.option.number * 1000).toLocaleString()));
            },
            areas: [
            {code: 1,name: "北海道",number: 5320},
            {code: 2,name: "青森",number: 1278},
            {code: 3,name: "岩手",number: 1255},
            {code: 4,name: "宮城",number: 2323},
            {code: 5,name: "秋田",number: 996},
            {code: 6,name: "山形",number: 1102},
            {code: 7,name: "福島",number: 1882},
            {code: 8,name: "茨城",number: 2892},
            {code: 9,name: "栃木",number: 1957},
            {code: 10,name: "群馬",number: 1960},
            {code: 11,name: "埼玉",number: 7310},
            {code: 12,name: "千葉",number: 6246},
            {code: 13,name: "東京",number: 13724},
            {code: 14,name: "神奈川",number: 9159},
            {code: 15,name: "新潟",number: 2267},
            {code: 16,name: "富山",number: 1056},
            {code: 17,name: "石川",number: 1147},
            {code: 18,name: "福井",number: 779},
            {code: 19,name: "山梨",number: 823},
            {code: 20,name: "長野",number: 2076},
            {code: 21,name: "岐阜",number: 2008},
            {code: 22,name: "静岡",number: 3675},
            {code: 23,name: "愛知",number: 7525},
            {code: 24,name: "三重",number: 1800},
            {code: 25,name: "滋賀",number: 1413},
            {code: 26,name: "京都",number: 2599},
            {code: 27,name: "大阪",number: 8823},
            {code: 28,name: "兵庫",number: 5503},
            {code: 29,name: "奈良",number: 1348},
            {code: 30,name: "和歌山",number: 945},
            {code: 31,name: "鳥取",number: 565},
            {code: 32,name: "島根",number: 685},
            {code: 33,name: "岡山",number: 1907},
            {code: 34,name: "広島",number: 2829},
            {code: 35,name: "山口",number: 1383},
            {code: 36,name: "徳島",number: 743},
            {code: 37,name: "香川",number: 967},
            {code: 38,name: "愛媛",number: 1364},
            {code: 39,name: "高知",number: 714},
            {code: 40,name: "福岡",number: 5107},
            {code: 41,name: "佐賀",number: 824},
            {code: 42,name: "長崎",number: 1354},
            {code: 43,name: "熊本",number: 1765},
            {code: 44,name: "大分",number: 1152},
            {code: 45,name: "宮崎",number: 1089},
            {code: 46,name: "鹿児島",number: 1626},
            {code: 47,name: "沖縄",number: 1443}
            ]
        }); -->


                
                <!-- }
                
                
                //テキストボックスの文字を操作する
                function clr(){
                
                  document.js.txtb.value="";
                
                }
                
                </script>
        </div>
        
    </div> -->

    <!-- モーダル用HTML -->
    <div class="modal fade" id="prefectureModal" tabindex="-1" role="dialog" aria-labelledby="prefectureModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="prefectureModalTitle"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body overflow-auto" style="height:350px;">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
